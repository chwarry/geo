# 用户管理功能演示说明

## 🎬 演示准备

### 1. 启动项目

```bash
cd d:\Bjtu\project\geo-forecast-mis
npm start
```

等待编译完成，浏览器会自动打开 `http://localhost:3000`

### 2. 模拟登录状态（临时方案）

由于您要求暂时不走登录逻辑，在浏览器控制台（F12）执行：

```javascript
// 模拟管理员登录
localStorage.setItem('token', 'demo-token');
localStorage.setItem('username', 'admin');
localStorage.setItem('userId', '1');
localStorage.setItem('roles', JSON.stringify(['admin']));

// 刷新页面
window.location.href = '/user-management';
```

## 🎯 演示场景

### 场景1: 用户列表展示

**操作步骤**:
1. 访问 `http://localhost:3000/user-management`
2. 观察页面布局和数据展示
3. 查看4个默认用户数据

**演示要点**:
- ✅ 表格展示清晰
- ✅ 角色标签颜色区分（红/橙/蓝/绿）
- ✅ 状态标签显示（启用/禁用）
- ✅ 分页功能正常

**预期效果**:
```
显示4个用户:
- admin (系统管理员, 红色标签)
- manager01 (项目经理, 橙色标签)
- engineer01 (技术人员, 蓝色标签)
- user01 (普通用户, 绿色标签)
```

---

### 场景2: 搜索和筛选

**操作步骤**:
1. 在"姓名"输入框输入 "张"
2. 点击"查询"按钮
3. 观察筛选结果（应该只显示"张三"）
4. 点击"重置"按钮
5. 观察列表恢复完整

**演示要点**:
- ✅ 搜索功能正常
- ✅ 实时筛选数据
- ✅ 重置功能正常

**预期效果**:
```
搜索"张" → 显示1条记录（张三）
点击重置 → 显示4条记录（全部）
```

---

### 场景3: 新增用户

**操作步骤**:
1. 点击"新增人员"按钮
2. 填写表单：
   ```
   用户名: demo01
   密码: 123456
   姓名: 演示用户
   手机号: 13800138001
   邮箱: demo@example.com
   部门: 演示部门
   角色: 技术人员
   状态: 启用
   ```
3. 点击"确定"按钮
4. 观察成功提示

**演示要点**:
- ✅ 对话框弹出正常
- ✅ 表单验证工作
- ✅ 提交成功提示
- ✅ 列表自动刷新

**预期效果**:
```
弹出对话框 → 填写表单 → 点击确定 → 
显示"创建用户成功" → 对话框关闭 → 列表刷新
```

---

### 场景4: 编辑用户

**操作步骤**:
1. 点击"张三"这一行的"编辑"按钮
2. 修改姓名为 "张三（已修改）"
3. 修改部门为 "技术部-测试组"
4. 点击"确定"按钮
5. 观察更新结果

**演示要点**:
- ✅ 编辑对话框预填数据
- ✅ 用户名不可修改（灰色）
- ✅ 其他字段可修改
- ✅ 更新成功提示

**预期效果**:
```
点击编辑 → 对话框显示原数据 → 修改字段 → 
显示"更新用户成功" → 列表显示新数据
```

---

### 场景5: 删除用户

**操作步骤**:
1. 点击"user01"这一行的"删除"按钮
2. 在确认对话框中点击"确定"
3. 观察删除结果

**演示要点**:
- ✅ 删除前有确认对话框
- ✅ 删除成功提示
- ✅ 列表自动刷新

**预期效果**:
```
点击删除 → 弹出确认框 → 点击确定 → 
显示"删除用户成功" → 用户从列表消失
```

---

### 场景6: 角色筛选

**操作步骤**:
1. 在"角色"下拉框选择"系统管理员"
2. 点击"查询"按钮
3. 观察只显示管理员用户
4. 选择"技术人员"
5. 点击"查询"按钮
6. 观察只显示技术人员

**演示要点**:
- ✅ 角色下拉框正常
- ✅ 筛选结果准确
- ✅ 可以切换不同角色

**预期效果**:
```
选择"系统管理员" → 显示1条（admin）
选择"技术人员" → 显示1条（engineer01）
```

---

### 场景7: 状态筛选

**操作步骤**:
1. 在"状态"下拉框选择"启用"
2. 点击"查询"按钮
3. 观察只显示启用的用户
4. 选择"禁用"
5. 点击"查询"按钮
6. 观察只显示禁用的用户

**演示要点**:
- ✅ 状态筛选正常
- ✅ 标签颜色区分（绿色/红色）

**预期效果**:
```
选择"启用" → 显示3条（admin, manager01, engineer01）
选择"禁用" → 显示1条（user01）
```

---

### 场景8: 角色登录跳转（重点演示）

**操作步骤**:

#### 8.1 管理员登录
```javascript
// 在控制台执行
localStorage.setItem('roles', JSON.stringify(['admin']));
window.location.href = '/login';
// 然后登录，观察跳转到 /user-management
```

#### 8.2 项目经理登录
```javascript
localStorage.setItem('roles', JSON.stringify(['manager']));
window.location.href = '/login';
// 登录后跳转到 /home
```

#### 8.3 技术人员登录
```javascript
localStorage.setItem('roles', JSON.stringify(['engineer']));
window.location.href = '/login';
// 登录后跳转到 /forecast-design
```

#### 8.4 普通用户登录
```javascript
localStorage.setItem('roles', JSON.stringify(['user']));
window.location.href = '/login';
// 登录后跳转到 /geo-point-search
```

**演示要点**:
- ✅ 不同角色跳转到不同页面
- ✅ 控制台显示跳转日志
- ✅ 页面正确加载

**预期效果**:
```
admin → /user-management (用户管理页面)
manager → /home (项目首页)
engineer → /forecast-design (预报设计页面)
user → /geo-point-search (工点查询页面)
```

---

## 🎨 演示亮点

### 1. 美观的UI设计
- 清晰的表格布局
- 彩色的角色标签
- 友好的操作按钮
- 流畅的交互动画

### 2. 完整的功能
- 增删改查全覆盖
- 搜索筛选灵活
- 表单验证完善
- 错误提示友好

### 3. 角色权限管理
- 4种角色定义清晰
- 登录跳转自动化
- 权限检查完整
- 扩展性强

### 4. 代码质量
- TypeScript类型安全
- 组件化设计
- 注释完整
- 易于维护

## 📊 演示数据

### 默认用户数据

| 用户名 | 姓名 | 手机号 | 邮箱 | 部门 | 角色 | 状态 |
|--------|------|--------|------|------|------|------|
| admin | 张三 | 13800138000 | zhangsan@example.com | 技术部 | 系统管理员 | 启用 |
| manager01 | 李四 | 13900139000 | lisi@example.com | 工程部 | 项目经理 | 启用 |
| engineer01 | 王五 | 13700137000 | wangwu@example.com | 技术部 | 技术人员 | 启用 |
| user01 | 赵六 | 13600136000 | zhaoliu@example.com | 业务部 | 普通用户 | 禁用 |

## 🎯 演示脚本

### 完整演示流程（5分钟）

```
1. 【30秒】启动项目，设置登录状态
   - 执行模拟登录脚本
   - 访问用户管理页面

2. 【30秒】展示用户列表
   - 介绍页面布局
   - 说明角色标签颜色
   - 展示分页功能

3. 【1分钟】演示搜索筛选
   - 姓名搜索
   - 角色筛选
   - 状态筛选
   - 重置功能

4. 【1分钟】演示新增用户
   - 点击新增按钮
   - 填写表单
   - 展示验证功能
   - 提交成功

5. 【1分钟】演示编辑用户
   - 点击编辑按钮
   - 修改信息
   - 提交更新

6. 【30秒】演示删除用户
   - 点击删除按钮
   - 确认删除
   - 查看结果

7. 【1分钟30秒】演示角色跳转（重点）
   - 演示管理员登录跳转
   - 演示其他角色跳转
   - 说明路由配置
   - 展示权限检查
```

## 💡 演示技巧

### 技巧1: 准备好测试数据

在演示前准备好要输入的数据，避免现场思考。

### 技巧2: 突出功能亮点

重点展示：
- 角色标签的颜色区分
- 表单验证的友好提示
- 角色登录的自动跳转

### 技巧3: 说明技术实现

简要说明：
- 使用React + TypeScript
- Arco Design组件库
- 角色路由配置系统
- 权限检查机制

### 技巧4: 展示扩展性

说明系统的扩展性：
- 易于添加新角色
- 易于配置新路由
- 易于集成后端API

## 🐛 常见问题处理

### 问题1: 页面空白

**原因**: 未设置登录状态  
**解决**: 执行模拟登录脚本

### 问题2: 操作无反应

**原因**: 当前使用Mock数据  
**说明**: 这是正常的，演示环境使用模拟数据

### 问题3: 角色跳转不工作

**原因**: localStorage中的roles未设置  
**解决**: 重新执行角色设置脚本

## 📝 演示检查清单

演示前检查：

- [ ] 项目已启动（npm start）
- [ ] 浏览器已打开
- [ ] 开发者工具已打开（F12）
- [ ] 已准备好演示脚本
- [ ] 已测试过所有功能
- [ ] 网络连接正常

演示中注意：

- [ ] 操作流畅，不要太快
- [ ] 说明每个功能的作用
- [ ] 展示错误处理
- [ ] 突出技术亮点
- [ ] 回答观众问题

演示后总结：

- [ ] 总结已实现的功能
- [ ] 说明下一步计划
- [ ] 收集反馈意见

## 🎉 演示总结话术

```
今天演示的用户管理功能包括：

✅ 完整的用户CRUD操作
✅ 灵活的搜索和筛选
✅ 美观的UI界面设计
✅ 基于角色的路由跳转
✅ 完善的权限检查机制

这个功能目前使用Mock数据进行演示，
后续只需要对接后端API即可投入使用。

系统支持4种用户角色，每种角色登录后
会自动跳转到对应的首页，并拥有不同的
页面访问权限。

整个系统采用TypeScript开发，类型安全，
代码结构清晰，易于维护和扩展。

谢谢大家！
```

---

**演示版本**: 1.0.0  
**准备时间**: 5分钟  
**演示时长**: 5-10分钟  
**更新日期**: 2024年11月16日
